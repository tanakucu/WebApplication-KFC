<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Меню</title>
    <script type="module" src="./components/header.js"></script>
    <script type="module" src="./components/footer.js"></script>
    <link rel="stylesheet" href="css/headerFooter.css" />
    <link rel="stylesheet" href="css/index.css" />
    <link rel="manifest" href="manifest.json" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
      integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
    />
    <script type="module" src="./js/products.js"></script>
  </head>
  <body>
    <div id="overlay"></div>
    <header-section></header-section>
    <section>
      <div>
        <img
          src="assets/Index Products/adimage1.jpg"
          alt="Home Image"
          class="homeimage"
        />
      </div>
    </section>
    <div class="searchbox">
      <form action="">
        <input type="search" placeholder="Бүтээгдэхүүн хайх" id="search" />
        <button type="submit" aria-label="Search">
          <img src="assets/Index Products/search.png" alt="Search" />
        </button>
      </form>
    </div>
    <div id="title"><h2>БҮТЭЭГДЭХҮҮН</h2></div>
    <div id="product-container">
      <div id="product-name">
        <button class="p-name" data-category="ДАН БҮТЭЭГДЭХҮҮН">
          ДАН БҮТЭЭГДЭХҮҮН
        </button>
        <button class="p-name" data-category="МИНИ КОМБО">МИНИ КОМБО</button>
        <button class="p-name" data-category="СЭТ БҮТЭЭГДЭХҮҮН">
          СЭТ БҮТЭЭГДЭХҮҮН
        </button>
        <button class="p-name" data-category="ӨЕГ БАГЦ">ӨЕГ БАГЦ</button>
        <button class="p-name" data-category="АРВИН БАГЦ">АРВИН БАГЦ</button>
        <button class="p-name" data-category="ХАЧИР">ХАЧИР</button>
        <button class="p-name" data-category="АМТТАН">АМТТАН</button>
        <button class="p-name" data-category="УНДАА">УНДАА</button>
      </div>

      <div id="product-desc"></div>
    </div>
    <footer-section></footer-section>
    <script type="module" src="./js/index.js"></script>

    <script>
      // This is the "Offline page" service worker

      importScripts(
        "https://storage.googleapis.com/workbox-cdn/releases/5.1.2/workbox-sw.js"
      );

      const CACHE = "pwabuilder-page";

      // TODO: replace the following with the correct offline fallback page i.e.: const offlineFallbackPage = "offline.html";
      const offlineFallbackPage = "ToDo-replace-this-name.html";

      self.addEventListener("message", (event) => {
        if (event.data && event.data.type === "SKIP_WAITING") {
          self.skipWaiting();
        }
      });

      self.addEventListener("install", async (event) => {
        event.waitUntil(
          caches.open(CACHE).then((cache) => cache.add(offlineFallbackPage))
        );
      });

      if (workbox.navigationPreload.isSupported()) {
        workbox.navigationPreload.enable();
      }

      self.addEventListener("fetch", (event) => {
        if (event.request.mode === "navigate") {
          event.respondWith(
            (async () => {
              try {
                const preloadResp = await event.preloadResponse;

                if (preloadResp) {
                  return preloadResp;
                }

                const networkResp = await fetch(event.request);
                return networkResp;
              } catch (error) {
                const cache = await caches.open(CACHE);
                const cachedResp = await cache.match(offlineFallbackPage);
                return cachedResp;
              }
            })()
          );
        }
      });
    </script>
  </body>
</html>
